---
title: Margins & Chart Size
concepts:
  - Basic Concepts
---
<h5>{{title}}</h5>
<p>
  d4 measures the height and width of a chart in two ways. Understanding how
  and when these measurements are applied will better help you understand how to
  properly size your chart.
</p>
<p>
  First d4 treats <code>height()</code> and <code>width()</code> as the chart
  area only, which means it excludes the margins. That means that when you set
  the height and width of a chart, the actual DOM element may be larger because
  it will include the margin too. Here is an example:
<hr/>
<script type="text/javascript" charset="utf-8" id='source_code'>
'use strict';

$(document).ready(function(){
  var $e = $('#outer');
  var $e2 = $('#inner');
  $e.css({
    width: 400,
    height: 100,
    overflow: 'hidden',
    border :'1px solid #333'
  });
  $e2.css({
    width: 400,
    height: 100,
    overflow: 'hidden',
    border :'1px solid #333'
  });
  var w = $e.width();
  var h = $e.height();

  var outer = d4.charts.column()
    .x(function(x) {
      x.scale('linear');
    });
  var inner = outer.clone();
  outer
    .outerHeight(h)
    .outerWidth(w);

  inner
    .height(h)
    .width(w);

  d3.select('#outer')
    .datum([{
      x: w,
      y: h
    }])
    .call(outer);

  d3.select('#inner')
    .datum([{
      x: w,
      y: h
    }])
    .call(inner);

  });

</script>
<div class='clearfix'>
  <h6>Setting outerHeight or outerWidth reduces the chart area relative to the margins</h6>
  <div id="outer"></div>
  <h6>Setting width or width ignores the margins, which is why this chart is truncated</h6>
  <div id="inner"></div>
</div>
<h6>JavaScript Code</h6>
<pre><code id="code" class="language-javascript"></code></pre>

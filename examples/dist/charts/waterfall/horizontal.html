<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Horizontal Waterfall Chart | d4 Examples</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="../../assets/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../assets/css/prism.css">
    <!-- Custom styles for this template -->
    <link rel="stylesheet" href="../../assets/css/main.css">
    <link rel="stylesheet" href="../../assets/css/d4.css">


    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
    <script src="../../assets/js/jquery.js"></script>
  </head>
  <body>
    <div class="container">

      
<div class="header">
    <ul class="nav nav-pills pull-right">
        <li><a href="/index.html">Introduction</a></li>
        <li><a href="/getting_started.html">Getting Started</a></li>
        <li><a href="/examples.html">Examples</a></li>
    </ul>
    <h3 class="text-muted">d4: Reusable d3 Charts</h3>
</div>

      <div class="container" role="main">

        

<h5>Horizontal Waterfall Chart</h5>
<p>
  <strong>Coming Soon</strong><br/>
  This waterfall chart is an example of the ability of some d4 chart to change orientation between horizontal and vertical.
  This example also demonstrates one of the various data parsers available to
  developers using d4. In this example, we use the <code>waterfall</code> parser
  which makes it trivial for the developer to prepare the incoming data in a way
  that the chart expects it.

</p>
<hr/>
<script type="text/javascript" charset="utf-8">
'use strict';

$(document).ready(function(){
  var data = [{
    'category': 'Job',
    'value': 27
  }, {
    'category': 'Groceries',
    'value': -3
  }, {
    'category': 'Allowance',
    'value': 22
  }, {
    'category': 'Subtotal',
    'value': 'e'
  }, {
    'category': 'Videos',
    'value': -22
  }, {
    'category': 'Coffee',
    'value': -4
  }, {
    'category': 'Total',
    'value': 'e'
  }];
  var parsedData = d4.parsers.waterfall()
    .x(function() {
      return 'value';
    })
    .y(function() {
      return 'category';
    })
    .nestKey(function() {
      return 'category';
    })(data);

  var chart = d4.waterfallChart()
    .width($('#example').width())
    .orientation(function(){
      return 'horizontal';
    })
    .xKey(function() {
      return 'value';
    })
    .yKey(function() {
      return 'category';
    });

  d3.select('#example1')
    .datum(parsedData.data)
    .call(chart);
});
</script>
<div id="waterfall">
  <div id="example"></div>
</div>

<h6>CSS Code</h6>
<pre><code class="language-css">
  #waterfall  .d4 .bar.negative.fill {
      fill: darkred;
  }
  #waterfall .d4 .bar.positive.fill {
      fill: steelblue;
  }
  #waterfall .d4 .bar.subtotal.fill {
      fill: lightblue;
  }
</code></pre>
<h6>JavaScript Code</h6>
<pre><code id="code" class="language-javascript">
</code></pre>


      </div>
      <div class="footer">
          <p>&copy; Mark Daggett 2014</p>
      </div>
    </div>

    <script src="../../assets/js/vendor.js"></script>

  </body>
</html>
